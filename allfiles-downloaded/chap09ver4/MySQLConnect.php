<?php
require 'MySQLResultSet.php';
////////////////////////////////////////////////////////////////////
class MySQLConnect{
  //data members
  var $connection;
////////////////////////////////////////////////////////////////////
//constructor
////////////////////////////////////////////////////////////////////
  function MySQLConnect($hostname, $username, $password){
    $this->connection = mysql_connect($hostname,$username,$password) or
      die ( mysql_error(). " Error no:".mysql_errno());
  }
////////////////////////////////////////////////////////////////////
//destructor - only invoked directly in PHP 4
////////////////////////////////////////////////////////////////////
  function __destruct(){
    $this->close();
  }
////////////////////////////////////////////////////////////////////
// public methods
////////////////////////////////////////////////////////////////////
  function createResultSet($strSQL, $databasename){
    $rs = new MySQLResultSet($strSQL, $databasename, $this->connection );
    return $rs;
  }
//////////////////////////////////////////////////////////////////// 
  function getConnection(){
    return $this->connection;
  }
//////////////////////////////////////////////////////////////////// 
  function getVersionNumber(){
    //mysql_get_server_info
    return mysql_get_server_info();
  }
////////////////////////////////////////////////////////////////////
  function close(){
    if(isset($this->connection)){
      mysql_close($this->connection);
      unset($this->connection);
    }
  }
}//end class
////////////////////////////////////////////////////////////////////
?>
